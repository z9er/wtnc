<style>
  /* Custom link colors */
  a {
    color: #67B7D1;
  }
  
  a:hover {
    color: #89c9e3;
  }
  
  /* Navigation links */
  .site-nav .nav-list-link {
    color: #67B7D1;
  }
  
  /* Aux nav links (Collection Page, Discord) */
  .site-header .aux-nav a {
    color: #67B7D1;
  }
  
  /* Active navigation item */
  .nav-list-item .nav-list-link.active {
    color: #67B7D1;
  }
  
  /* Force FAQ to be expanded */
  .nav-list-item:has(a[href*="/faq/"]) > ul.nav-list {
    display: block !important;
  }
  
  /* Hide the FAQ expander arrow */
  .nav-list-item:has(a[href*="/faq/"]) > .nav-list-expander {
    display: none !important;
  }
  
  /* Set initial expanded state for NMA, Wabbajack, and Vortex */
  .nav-list-item:has(a[href*="/nma/"]) > ul.nav-list:not(.nav-list-top),
  .nav-list-item:has(a[href*="/wabbajack/"]) > ul.nav-list:not(.nav-list-top),
  .nav-list-item:has(a[href*="/vortex/"]) > ul.nav-list:not(.nav-list-top) {
    display: block;
  }
  
  /* Ensure the expander arrows show the correct state initially */
  .nav-list-item:has(a[href*="/nma/"]) > .nav-list-expander[aria-expanded="false"] svg,
  .nav-list-item:has(a[href*="/wabbajack/"]) > .nav-list-expander[aria-expanded="false"] svg,
  .nav-list-item:has(a[href*="/vortex/"]) > .nav-list-expander[aria-expanded="false"] svg {
    transform: rotate(-90deg);
  }
  
  /* Make parent links clickable for collapsing/expanding */
  .nav-list-item > a[href$="/nma/"],
  .nav-list-item > a[href$="/wabbajack/"],
  .nav-list-item > a[href$="/vortex/"] {
    cursor: pointer;
  }
</style>

<script>
  // Handle parent nav items - toggle if open, navigate if closed
  document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for Just the Docs to initialize
    setTimeout(function() {
      // Find the parent links
      const parentLinks = document.querySelectorAll('.nav-list-item > a[href$="/nma/"], .nav-list-item > a[href$="/wabbajack/"], .nav-list-item > a[href$="/vortex/"]');
      
      parentLinks.forEach(function(link) {
        link.addEventListener('click', function(e) {
          // Find the nav item and check if it has children
          const navItem = link.closest('.nav-list-item');
          const expander = navItem.querySelector('.nav-list-expander');
          const childList = navItem.querySelector('ul.nav-list');
          
          if (expander && childList) {
            // Check if currently expanded
            const isExpanded = expander.getAttribute('aria-expanded') === 'true' || 
                             childList.style.display === 'block' ||
                             !childList.classList.contains('hidden');
            
            if (isExpanded) {
              // If expanded, prevent navigation and collapse
              e.preventDefault();
              expander.click();
            }
            // If collapsed, allow normal navigation (which will redirect to install page)
          }
        });
      });
    }, 100);
  });
</script>
